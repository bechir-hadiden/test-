// src/app/components/controle-qualite/controle-qualite.component.html
<div class="container">
  <h1>Controle qualité</h1>

  <div class="actions-bar">
    <button class="btn btn-primary">+ Commencer Controle</button>
    <button class="btn btn-secondary">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>
      </svg>
      Configurer
    </button>
    <button class="btn btn-secondary">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"/>
      </svg>
      Overview
    </button>
    <button class="btn btn-secondary">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"/>
      </svg>
      Rapport
    </button>
  </div>

  <div class="filter-container">
    <span class="filter-label">Afficher :</span>
    <label class="filter-switch">
      <input type="checkbox" (change)="onToggleFilter($event)">
      <span class="filter-slider"></span>
    </label>
    <span class="filter-status">{{ showControlled ? 'Contrôlés' : 'Non contrôlés' }}</span>
  </div>

  <div class="dossiers-header">
    <h2 class="dossiers-title">Dossiers</h2>
    <div class="dossiers-actions">
      <button class="btn btn-secondary">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
        </svg>
        Trier
      </button>
      <button class="btn btn-secondary">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/>
        </svg>
        Filtrer
      </button>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>ID TACHE</th>
        <th>COMMUNE</th>
        <th>DATE DE FIN</th>
        <th>KM CATÉGORIE</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let dossier of dossiers$ | async"
          [class.hidden]="showControlled ? !dossier.isControlled : dossier.isControlled">
        <td>{{ dossier.id }}</td>
        <td>{{ dossier.commune }}</td>
        <td>{{ dossier.dateFin }}</td>
        <td>{{ dossier.kmCategorie }}</td>
        <td class="action-cell">
          <button class="action-btn" (click)="onToggleDossier(dossier.id)">
            Controler
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>